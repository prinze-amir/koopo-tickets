!function(o){function t(o){this.mode=c.MODE_8BIT_BYTE,this.data=o,this.parsed=[];for(var t=0;t<this.data.length;t++){var e=this.data.charCodeAt(t);e>65536?(this.parsed.push(0xF0|((e>>18)&7)),this.parsed.push(0x80|((e>>12)&63)),this.parsed.push(0x80|((e>>6)&63)),this.parsed.push(0x80|(63&e))):e>2048?(this.parsed.push(0xE0|((e>>12)&15)),this.parsed.push(0x80|((e>>6)&63)),this.parsed.push(0x80|(63&e))):e>128?(this.parsed.push(0xC0|((e>>6)&31)),this.parsed.push(0x80|(63&e))):this.parsed.push(e)}this.data=this.parsed}function e(o,t){this.typeNumber=o,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function r(o,t){if(void 0==o.length)throw new Error(o.length+'/'+t);for(var e=0;e<o.length&&0==o[e];)e++;this.num=new Array(o.length-e+t);for(var r=0;r<o.length-e;r++)this.num[r]=o[r+e]}function n(o,t){this.totalCount=o,this.dataCount=t}function i(){this.buffer=[],this.length=0}function s(){this.buffer=[]}var c={PAD0:236,PAD1:17},u={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54]],G15:[1,0,1,0,0,1,1,0,1,1,1],G18:[1,1,1,1,1,0,0,1,0,0,1],G15_MASK:[1,0,0,0,1,0,0,0,1,0,0],QRCODE_VERSION=1},a={L:1,M:0,Q:3,H:2},d={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},l={getBCHTypeInfo:function(o){for(var t=o<<10;u.getBCHDigit(t)-u.getBCHDigit(u.G15)>=0;)t^=u.G15<<u.getBCHDigit(t)-u.getBCHDigit(u.G15);return(o<<10|t)^u.G15_MASK},getBCHTypeNumber:function(o){for(var t=o<<12;u.getBCHDigit(t)-u.getBCHDigit(u.G18)>=0;)t^=u.G18<<u.getBCHDigit(t)-u.getBCHDigit(u.G18);return o<<12|t},getBCHDigit:function(o){for(var t=0;0!=o;)t++,o>>=1;return t}},h={};t.prototype={getLength:function(){return this.parsed.length},write:function(o){for(var t=0;t<this.parsed.length;t++)o.put(this.parsed[t],8)}};var p={};e.prototype={addData:function(o){var e=new t(o);this.dataList.push(e),this.dataCache=null},isDark:function(o,t){if(o<0||this.moduleCount<=o||t<0||this.moduleCount<=t)throw new Error(o+','+t);return this.modules[o][t]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(o,t){this.moduleCount=21+4*(this.typeNumber-1),this.modules=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++){this.modules[e]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[e][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupTimingPattern(),this.setupTypeInfo(o,t),this.mapData(this.createData(o,t),t)},setupPositionProbePattern:function(o,t){for(var e=-1;7>=e;e++)if(!(o+e<=-1||this.moduleCount<=o+e))for(var r=-1;7>=r;r++)t+r<=-1||this.moduleCount<=t+r||(this.modules[o+e][t+r]=0<=e&&e<=6&&0<=r&&r<=6&&(0==e||6==e||0==r||6==r||2<=e&&e<=4&&2<=r&&r<=4))},getBestMaskPattern:function(){for(var o=0,t=0,e=0;8>e;e++){this.makeImpl(!0,e);var r=l.getLostPoint(this);(0==e||o>r)&&(o=r,t=e)}return t},setupTimingPattern:function(){for(var o=8;o<this.moduleCount-8;o++)null==this.modules[o][6]&&(this.modules[o][6]=o%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},setupTypeInfo:function(o,t){for(var e=l.getBCHTypeInfo(t<<3|a[this.errorCorrectLevel]),r=0;r<15;r++){var n=!o&&1==(e>>r&1);r<6?this.modules[r][8]=n:r<8?this.modules[r+1][8]=n:this.modules[this.moduleCount-15+r][8]=n}for(r=0;r<15;r++){var i=!o&&1==(e>>r&1);r<8?this.modules[8][this.moduleCount-r-1]=i:r<9?this.modules[8][15-r-1]=i:this.modules[8][15-r-1]=i}this.modules[this.moduleCount-8][8]=!o},mapData:function(o,t){for(var e=-1,r=this.moduleCount-1,n=7,i=0,s=this.moduleCount-1;s>0;s-=2)6==s&&s--;for(;;){for(var c=0;c<2;c++)if(null==this.modules[r][s-c]){var u=!1;i<o.length&&(u=1==(o[i]>>>n&1));var a=l.getMask(t,r,s-c);this.modules[r][s-c]=a?!u:u,n--,-1==n&&(i++,n=7)}if((r+=e)<0||this.moduleCount<=r){r-=e,e=-e;break}}},createData:function(o,t){for(var e=l.getDataCount(this.typeNumber,this.errorCorrectLevel),r=new i,n=0;n<this.dataList.length;n++){var s=this.dataList[n];r.put(s.mode,4),r.put(s.getLength(),l.getLengthInBits(s.mode,this.typeNumber)),s.write(r)}if(r.getLengthInBits()>8*e)throw new Error('code length overflow.');for(r.getLengthInBits()+4<=8*e&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;!(r.getLengthInBits()>=8*e);){r.put(c.PAD0,8);if(r.getLengthInBits()>=8*e)break;r.put(c.PAD1,8)}return l.createBytes(r,l.getDataCount(this.typeNumber,this.errorCorrectLevel))}};i.prototype={get:function(o){var t=Math.floor(o/8);return 1==(this.buffer[t]>>>7-o%8&1)},put:function(o,t){for(var e=0;t>e;e++)this.putBit(1==(o>>>t-e-1&1))},getLengthInBits:function(){return this.length},putBit:function(o){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),o&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var f={};QRCode=function(o,t){if('string'==typeof o){t=o;o=document.getElementById(t)}if(o){this._el=o,this._o=o,this._htOption=void 0===t?{}:t,this._android=this._isAndroid(),this._el.title=this._htOption.text||'',this._el.innerHTML='',this._makeCode(this._htOption.text)}},QRCode.prototype._makeCode=function(o){this._oQRCode&&this._oQRCode.clear(),this._oQRCode=new e(1,a.L),this._oQRCode.addData(o),this._oQRCode.make(),this._el.innerHTML=this._oQRCode.createTableTag(4,0)},QRCode.prototype._isAndroid=function(){return navigator.userAgent.match(/Android/i)},QRCode.prototype.clear=function(){this._el.innerHTML=''},QRCode.prototype.makeCode=function(o){this._htOption.text=o,this._makeCode(o)},e.prototype.createTableTag=function(o,t){o=o||2;var e=r=new Array(this.moduleCount*o+2*t);r.fill('');var n='<table style="border-collapse:collapse;" cellpadding="0" cellspacing="0">';for(var i=0;i<this.moduleCount;i++){n+='<tr>';for(var s=0;s<this.moduleCount;s++){n+='<td style="width:'+o+'px;height:'+o+'px;background-color:'+(this.isDark(i,s)?'#000':'#fff')+'"></td>'}n+='</tr>'}return n+='</table>'},l.getLostPoint=function(o){return 0},l.getDataCount=function(o,t){return 26},l.getLengthInBits=function(o,t){return 8},l.createBytes=function(o,t){for(var e=[],r=0;r<t;r++)e.push(o.buffer[r]);return e}}();
